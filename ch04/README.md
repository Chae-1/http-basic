HTTP 메서드
==
### HTTP API (URI 설계)
잘못 설계된 회원 정보 관리 API
- 목록 조회: /read-member-list
- 조회: /read-member-by-id
- 등록: /create-member
- 수정: /update-member
- 삭제: /delete-member

잘 설계된 URI는 `리소스`를 확실하게 식별할 수 있다.
- `리소스`는 접근하고자 하는 자원을 의미한다.

잘 설계된 회원 정보 관리 URI
- 목록 조회: /members
- 조회: /members/{id}
- 등록: /members/{id}
- 수정: /members/{id}
- 삭제: /members/{id}
 
URI를 통해 리소스를 식별할 수 있게 됐지만, 등록, 수정, 삭제, 조회를 위한 URI가 같아 구분할 수 없는 문제가 생긴다.

이를 구분하기 위해 HTTP 메서드가 존재한다.


### HTTP 메서드
HTTP 메서드는 리소스를 가지고 서버가 무엇을 해야할 지 명시해주는 것이다. HTTP 메서드는 대표적으로 다음과 같다.
- GET: 리소스를 조회
- POST: 요청 데이터를 처리, 주로 등록에 사용
- PUT: 리소스를 대체, 없다면 새로 생성
- PATCH: 리소스 부분 변경
- DELETE: 리소스를 삭제
- HEAD: GET과 동일하지만 HTTP 헤더까지만 조회한다.
- OPTION: CORS에서 주로 사용하고 대상 리소스에 대한 통신 가능여부를 확인할 때 사용한다.

#### GET
- 리소스를 조회할 때 사용하는 메서드
- 서버에 전달하고 싶은 데이터는 query parameter로 전송한다.
- 메시지 바디로 전송할 수있지만, 대부분 지원하지 않는다.

#### POST
- 요청 데이터를 처리하라고 서버에게 전달하는 메서드
- 서버는 클라이언트가 보낸 데이터(메시지 바디)를 처리한다.
- 주로 전달된 데이터로 신규 리소스 등록, 프로세스 처리에 사용한다.

URI에 POST 요청이 오면 요청 데이터를 어떻게 처리할지 리소스마다 따로 정해야한다.

**정리**
1. 새 리소스를 등록할 때 사한다.
2. 요청 데이터를 처리
   - 데이터를 생성, 변경하는 것을 넘어 프로세스를 처리해야 하는 경우
   - 프로세스의 상태가 변경되는 경우
   - 이래도 안될 때, URI에 행위를 명시한 컨트롤 URI를 사용한다.
3. 다른 메서드로 처리하기 애매한 경우

### PUT
- 리소스를 대체
  - 리소스가 있으면 리소스를 대체하고 없다면 생성한다.
  - 완전히 기존 데이터를 삭제한 후 덮어씌운다.
- POST와 다르게 **클라이언트가 리소스를 식별한다.**
  - URI에 리소스 위치를 클라이언트가 명시한다.

### PATCH
- 기존 리소스를 대체하지 않고 부분적으로 변경한다.

### DELETE
- 리소스를 삭제한다.


### HTTP 메서드의 속성
- 안전(Safe)
  - 여러번 호출해도 리소스가 변경되지 않는 메서드
    - GET, HEAD
- 멱등(Idenpotent)
  - 한번 호출하든 두 번 호출하든 결과가 똑같다.
    - GET, PUT, DELETE
    - 반면, POST는 멱등하지 않다. -> 리소스 등록
  - 자동 복구 메커니즘에서 활용한다.
  - 외부 요인으로 중간에 리소스가 변경되는 것까지는 고려하지 않는다.
- 캐시가능(Casheable)
  - 응답 결과 리소스를 캐시해서 사용해도 되는가
  - GET, HEAD, POST, PATCH가 캐시 가능
  - 실제로는 GET, HEAD 정도만 캐시로 사용
